<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- タイトル -->
  <text x="400" y="30" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">ボタン作成の流れ (ループ1回あたり)</text>
  
  <!-- ステップ1: createElement -->
  <rect x="50" y="60" width="700" height="80" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
  <text x="70" y="85" font-size="16" font-weight="bold" fill="#1976d2">① document.createElement("button")</text>
  <text x="70" y="110" font-size="14" fill="#333">メモリ上にbutton要素を作成 (まだDOMツリーには未接続)</text>
  <circle cx="650" cy="100" r="25" fill="#fff" stroke="#1976d2" stroke-width="2"/>
  <text x="650" y="107" font-size="14" text-anchor="middle" fill="#333">button</text>
  
  <!-- 矢印 -->
  <path d="M 400 140 L 400 170" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- ステップ2: textContent -->
  <rect x="50" y="170" width="700" height="80" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
  <text x="70" y="195" font-size="16" font-weight="bold" fill="#7b1fa2">② createButton.textContent = `ボタン${j + i}`</text>
  <text x="70" y="220" font-size="14" fill="#333">ボタンのテキスト内容を設定</text>
  <circle cx="650" cy="210" r="30" fill="#fff" stroke="#7b1fa2" stroke-width="2"/>
  <text x="650" y="210" font-size="12" text-anchor="middle" fill="#333">button</text>
  <text x="650" y="225" font-size="10" text-anchor="middle" fill="#666">ボタン0</text>
  
  <!-- 矢印 -->
  <path d="M 400 250 L 400 280" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- ステップ3: appendChild -->
  <rect x="50" y="280" width="700" height="100" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="5"/>
  <text x="70" y="305" font-size="16" font-weight="bold" fill="#388e3c">③ boxTemp.appendChild(createButton)</text>
  <text x="70" y="330" font-size="14" fill="#333">親要素(boxTemp)の子要素として追加 → 画面に表示</text>
  
  <!-- DOM構造 -->
  <rect x="150" y="345" width="500" height="25" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" rx="3"/>
  <text x="160" y="363" font-size="12" fill="#333">boxTemp (親要素)</text>
  <rect x="200" y="345" width="80" height="25" fill="#fff" stroke="#388e3c" stroke-width="2" rx="3"/>
  <text x="240" y="363" font-size="11" text-anchor="middle" fill="#333">ボタン0</text>
  
  <!-- 矢印 -->
  <path d="M 400 380 L 400 410" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- ステップ4: addEventListener -->
  <rect x="50" y="410" width="700" height="100" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
  <text x="70" y="435" font-size="16" font-weight="bold" fill="#f57c00">④ createButton.addEventListener("click", function)</text>
  <text x="70" y="460" font-size="14" fill="#333">クリックイベント登録: クリック時に背景色を黄色に変更</text>
  <text x="70" y="485" font-size="12" fill="#666">→ createButton.style.backgroundColor = "yellow"</text>
  
  <!-- ループ表示 -->
  <rect x="50" y="530" width="700" height="50" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
  <text x="400" y="560" font-size="14" font-weight="bold" text-anchor="middle" fill="#c2185b">このプロセスを10回繰り返す (i = 0 ～ 9)</text>
  
  <!-- 矢印マーカー定義 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666"/>
    </marker>
  </defs>
</svg>