<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <!-- タイトル -->
  <text x="400" y="30" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">
    visibility: hidden vs display: none
  </text>
  
  <!-- 左側: visibility: hidden -->
  <g>
    <text x="200" y="70" font-size="16" font-weight="bold" text-anchor="middle" fill="#2563eb">
      visibility: hidden
    </text>
    
    <!-- Box A -->
    <rect x="50" y="90" width="120" height="80" fill="#3b82f6" stroke="#1e40af" stroke-width="2"/>
    <text x="110" y="135" font-size="14" fill="white" text-anchor="middle">Box A</text>
    
    <!-- Box B (非表示だが領域確保) -->
    <rect x="50" y="180" width="120" height="80" fill="none" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="110" y="220" font-size="14" fill="#999" text-anchor="middle">Box B</text>
    <text x="110" y="240" font-size="12" fill="#999" text-anchor="middle">(非表示)</text>
    
    <!-- Box C -->
    <rect x="50" y="270" width="120" height="80" fill="#3b82f6" stroke="#1e40af" stroke-width="2"/>
    <text x="110" y="315" font-size="14" fill="white" text-anchor="middle">Box C</text>
    
    <!-- 説明 -->
    <text x="200" y="380" font-size="12" fill="#666" text-anchor="middle">
      ✓ 領域は確保される
    </text>
  </g>
  
  <!-- 右側: display: none -->
  <g>
    <text x="600" y="70" font-size="16" font-weight="bold" text-anchor="middle" fill="#dc2626">
      display: none
    </text>
    
    <!-- Box A -->
    <rect x="450" y="90" width="120" height="80" fill="#3b82f6" stroke="#1e40af" stroke-width="2"/>
    <text x="510" y="135" font-size="14" fill="white" text-anchor="middle">Box A</text>
    
    <!-- Box B は完全に消失（表示なし） -->
    <text x="510" y="200" font-size="12" fill="#ccc" text-anchor="middle">
      (Box B は消失)
    </text>
    
    <!-- Box C (上に詰まる) -->
    <rect x="450" y="180" width="120" height="80" fill="#3b82f6" stroke="#1e40af" stroke-width="2"/>
    <text x="510" y="225" font-size="14" fill="white" text-anchor="middle">Box C</text>
    
    <!-- 矢印で詰まることを表現 -->
    <path d="M 510 170 L 510 185" stroke="#f59e0b" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
    
    <!-- 説明 -->
    <text x="600" y="380" font-size="12" fill="#666" text-anchor="middle">
      ✗ 領域も消える（詰まる）
    </text>
  </g>
  
  <!-- 矢印マーカー定義 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
      <polygon points="0 0, 10 5, 0 10" fill="#f59e0b"/>
    </marker>
  </defs>
  
  <!-- 区切り線 -->
  <line x1="400" y1="60" x2="400" y2="360" stroke="#ddd" stroke-width="2"/>
</svg>