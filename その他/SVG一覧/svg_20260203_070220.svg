<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="800" height="600" fill="#f8f9fa"/>
  
  <!-- タイトル -->
  <text x="400" y="30" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">スクロールアニメーションの仕組み</text>
  
  <!-- ブラウザウィンドウ -->
  <rect x="50" y="60" width="300" height="400" fill="#fff" stroke="#333" stroke-width="2"/>
  <text x="200" y="85" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">ブラウザ表示領域</text>
  
  <!-- ウィンドウの高さ表示 -->
  <line x1="360" y1="100" x2="360" y2="460" stroke="#ff6b6b" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="380" y="280" font-size="12" fill="#ff6b6b">window.innerHeight</text>
  
  <!-- スクロール前 -->
  <rect x="70" y="110" width="260" height="330" fill="#e3f2fd" opacity="0.3"/>
  <text x="200" y="135" font-size="12" text-anchor="middle" fill="#666">スクロール前</text>
  
  <!-- ウィンドウ下端 -->
  <line x1="50" y1="460" x2="350" y2="460" stroke="#ff6b6b" stroke-width="3"/>
  <text x="200" y="480" font-size="12" text-anchor="middle" fill="#ff6b6b" font-weight="bold">ウィンドウ下端</text>
  
  <!-- store_img要素（スクロール前） -->
  <rect x="100" y="550" width="200" height="80" fill="#ffd43b" stroke="#333" stroke-width="2" opacity="0.3"/>
  <text x="200" y="595" font-size="12" text-anchor="middle" fill="#666">store_img要素</text>
  
  <!-- 矢印（スクロール） -->
  <path d="M 400 250 L 450 250" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="425" y="240" font-size="14" text-anchor="middle" fill="#333">スクロール</text>
  
  <!-- スクロール後 -->
  <rect x="500" y="60" width="300" height="400" fill="#fff" stroke="#333" stroke-width="2"/>
  <text x="650" y="85" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">ブラウザ表示領域</text>
  
  <rect x="520" y="110" width="260" height="330" fill="#e3f2fd" opacity="0.3"/>
  <text x="650" y="135" font-size="12" text-anchor="middle" fill="#666">スクロール後</text>
  
  <!-- ウィンドウ下端 -->
  <line x1="500" y1="460" x2="800" y2="460" stroke="#ff6b6b" stroke-width="3"/>
  
  <!-- store_img要素（スクロール後・表示領域内） -->
  <rect x="550" y="380" width="200" height="80" fill="#ffd43b" stroke="#333" stroke-width="2"/>
  <text x="650" y="415" font-size="12" text-anchor="middle" fill="#333" font-weight="bold">store_img要素</text>
  <text x="650" y="435" font-size="11" text-anchor="middle" fill="#333">(animate追加)</text>
  
  <!-- rect.top の表示 -->
  <line x1="810" y1="380" x2="850" y2="380" stroke="#4CAF50" stroke-width="2"/>
  <text x="860" y="385" font-size="11" fill="#4CAF50">rect.top</text>
  
  <!-- 条件式の説明 -->
  <rect x="150" y="500" width="500" height="80" fill="#fff" stroke="#333" stroke-width="2" rx="5"/>
  <text x="400" y="525" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">判定条件</text>
  <text x="400" y="545" font-size="12" text-anchor="middle" fill="#666">if (rect.top &lt;= windowHeight)</text>
  <text x="400" y="565" font-size="11" text-anchor="middle" fill="#666">要素の上端がウィンドウ下端に到達したら</text>
  <text x="400" y="580" font-size="11" text-anchor="middle" fill="#4CAF50">→ animate クラスを追加</text>
  
  <!-- 矢印定義 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333"/>
    </marker>
  </defs>
</svg>