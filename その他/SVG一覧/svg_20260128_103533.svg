<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>pointer-events 解説図</title>
  <style>
    body {
      font-family: 'Meiryo', sans-serif;
      padding: 2rem;
      background: #f5f5f5;
    }
    .diagram-container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #333;
      margin-bottom: 2rem;
    }
  </style>
</head>
<body>
  <div class="diagram-container">
    <h2>pointer-events の動作イメージ</h2>
    
    <!-- ❌ 問題のあるパターン -->
    <svg width="100%" height="300" viewBox="0 0 800 300" xmlns="http://www.w3.org/2000/svg">
      <!-- タイトル -->
      <text x="400" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#d32f2f">
        ❌ 問題: pointer-events 未設定（またはauto）
      </text>
      
      <!-- 背景のコンテンツ -->
      <rect x="50" y="60" width="700" height="200" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
      <text x="400" y="90" text-anchor="middle" font-size="16" fill="#1976d2">サイトのコンテンツ（背景）</text>
      
      <!-- ボタン -->
      <rect x="150" y="120" width="120" height="50" fill="#4caf50" rx="5"/>
      <text x="210" y="150" text-anchor="middle" font-size="14" fill="white">ボタン</text>
      
      <rect x="350" y="120" width="120" height="50" fill="#4caf50" rx="5"/>
      <text x="410" y="150" text-anchor="middle" font-size="14" fill="white">リンク</text>
      
      <rect x="550" y="120" width="120" height="50" fill="#4caf50" rx="5"/>
      <text x="610" y="150" text-anchor="middle" font-size="14" fill="white">メニュー</text>
      
      <!-- 透明なオーバーレイ（壁） -->
      <rect x="50" y="60" width="700" height="200" fill="rgba(0,0,0,0.3)" stroke="#f44336" stroke-width="3" stroke-dasharray="10,5"/>
      <text x="400" y="160" text-anchor="middle" font-size="18" font-weight="bold" fill="#fff">
        透明な巨大な壁（opacity: 0 だが存在している）
      </text>
      
      <!-- 禁止マーク -->
      <circle cx="210" cy="145" r="30" fill="none" stroke="#f44336" stroke-width="4"/>
      <line x1="190" y1="125" x2="230" y2="165" stroke="#f44336" stroke-width="4"/>
      
      <circle cx="410" cy="145" r="30" fill="none" stroke="#f44336" stroke-width="4"/>
      <line x1="390" y1="125" x2="430" y2="165" stroke="#f44336" stroke-width="4"/>
      
      <circle cx="610" cy="145" r="30" fill="none" stroke="#f44336" stroke-width="4"/>
      <line x1="590" y1="125" x2="630" y2="165" stroke="#f44336" stroke-width="4"/>
      
      <!-- 説明文 -->
      <text x="400" y="280" text-anchor="middle" font-size="14" fill="#d32f2f">
        ⚠️ 背後のボタンがクリックできない！
      </text>
    </svg>

    <div style="height: 50px;"></div>

    <!-- ✅ 正解のパターン -->
    <svg width="100%" height="300" viewBox="0 0 800 300" xmlns="http://www.w3.org/2000/svg">
      <!-- タイトル -->
      <text x="400" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#2e7d32">
        ✅ 解決: pointer-events: none
      </text>
      
      <!-- 背景のコンテンツ -->
      <rect x="50" y="60" width="700" height="200" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
      <text x="400" y="90" text-anchor="middle" font-size="16" fill="#1976d2">サイトのコンテンツ（背景）</text>
      
      <!-- ボタン -->
      <rect x="150" y="120" width="120" height="50" fill="#4caf50" rx="5"/>
      <text x="210" y="150" text-anchor="middle" font-size="14" fill="white">ボタン</text>
      
      <rect x="350" y="120" width="120" height="50" fill="#4caf50" rx="5"/>
      <text x="410" y="150" text-anchor="middle" font-size="14" fill="white">リンク</text>
      
      <rect x="550" y="120" width="120" height="50" fill="#4caf50" rx="5"/>
      <text x="610" y="150" text-anchor="middle" font-size="14" fill="white">メニュー</text>
      
      <!-- 透明なオーバーレイ（すり抜ける） -->
      <rect x="50" y="60" width="700" height="200" fill="rgba(0,0,0,0.1)" stroke="#4caf50" stroke-width="3" stroke-dasharray="10,5"/>
      <text x="400" y="160" text-anchor="middle" font-size="18" font-weight="bold" fill="#666">
        オーバーレイ（pointer-events: none で透過）
      </text>
      
      <!-- クリック矢印 -->
      <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
          <polygon points="0 0, 10 3, 0 6" fill="#2e7d32" />
        </marker>
      </defs>
      
      <line x1="210" y1="100" x2="210" y2="120" stroke="#2e7d32" stroke-width="3" marker-end="url(#arrowhead)"/>
      <text x="210" y="95" text-anchor="middle" font-size="12" fill="#2e7d32">クリック</text>
      
      <line x1="410" y1="100" x2="410" y2="120" stroke="#2e7d32" stroke-width="3" marker-end="url(#arrowhead)"/>
      <text x="410" y="95" text-anchor="middle" font-size="12" fill="#2e7d32">クリック</text>
      
      <line x1="610" y1="100" x2="610" y2="120" stroke="#2e7d32" stroke-width="3" marker-end="url(#arrowhead)"/>
      <text x="610" y="95" text-anchor="middle" font-size="12" fill="#2e7d32">クリック</text>
      
      <!-- 説明文 -->
      <text x="400" y="280" text-anchor="middle" font-size="14" fill="#2e7d32">
        ✅ クリックがオーバーレイを突き抜けて、背後のボタンに届く！
      </text>
    </svg>

    <!-- コード例 -->
    <div style="margin-top: 3rem; padding: 1.5rem; background: #f5f5f5; border-radius: 5px;">
      <h3 style="margin-top: 0;">CSS 設定例</h3>
      <pre style="background: #263238; color: #aed581; padding: 1rem; border-radius: 5px; overflow-x: auto;">
#mask {
  position: fixed;
  width: 100%;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.5);
  <span style="color: #ff5252;">pointer-events: none;</span> /* すり抜けさせる */
}

#mask.open {
  display: block;
  <span style="color: #69f0ae;">pointer-events: auto;</span> /* クリックを有効にする */
}</pre>
    </div>
  </div>
</body>
</html>