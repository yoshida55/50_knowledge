# 縦書きメニューの順次表示アニメーション

縦書きテキスト（writing-mode: vertical-rl）に対して、clip-path を使った上から下への表示アニメーション。
nth-child と animation-delay を組み合わせて、右から左へ順番に表示する。

## ★重要ポイント

### clip-path の引数順序
- **`inset(top right bottom left)`** の順序を覚える
- ★ 縦書きで上から下に表示: `inset(0 0 100% 0)` → `inset(0 0 0 0)`

### 縦書き（writing-mode: vertical-rl）の配置
- HTML の 1番目の要素 → 画面上では**左端**に配置
- HTML の 5番目の要素 → 画面上では**右端**に配置
- ★ 右から左に表示したい場合、**遅延時間を逆順**にする

### animation-delay の設定
- nth-child の番号が大きい要素ほど、遅延時間を短くする
- 例: nth-child(5) = 0.2s、nth-child(1) = 1.0s

---

## HTML

```html
<nav class="hidden_nav">
  <ul class="hidden_menu">
    <li class="hidden_item"><a class="hidden_link" href="#">おもだか屋について</a></li>
    <li class="hidden_item"><a class="hidden_link" href="#">今週のひと品</a></li>
    <li class="hidden_item"><a class="hidden_link" href="#">お知らせ</a></li>
    <li class="hidden_item"><a class="hidden_link" href="#">アクセス</a></li>
    <li class="hidden_item"><a class="hidden_link" href="#">お問い合わせ</a></li>
  </ul>
</nav>
```

---

## CSS

```css
/* メニューリスト - 縦書き設定 */
.hidden_item {
  list-style: none;
  font-size: 1.4rem;
  writing-mode: vertical-rl;
}

/* リンク要素 - 初期状態は非表示 */
.hidden_link {
  color: black;
  font-size: 3rem;
  /* 初期状態: 下を隠す = 上だけ見える */
  clip-path: inset(0 0 100% 0);
}

/* アニメーション定義: 上から下へ表示 */
@keyframes revealRightToLeft {
  from {
    clip-path: inset(0 0 100% 0); /* 下を100%隠す */
  }
  to {
    clip-path: inset(0 0 0 0); /* 全て表示 */
  }
}

/* 順次表示: 右端（お問い合わせ）から左端（おもだか屋について）へ */
#side_area.open ~ .hidden_area.animate .hidden_item:nth-child(1) .hidden_link {
  animation: revealRightToLeft 1.5s ease-out forwards;
  animation-delay: 1.0s; /* おもだか屋について（左端・最後） */
}

#side_area.open ~ .hidden_area.animate .hidden_item:nth-child(2) .hidden_link {
  animation: revealRightToLeft 1.5s ease-out forwards;
  animation-delay: 0.8s; /* 今週のひと品 */
}

#side_area.open ~ .hidden_area.animate .hidden_item:nth-child(3) .hidden_link {
  animation: revealRightToLeft 1.5s ease-out forwards;
  animation-delay: 0.6s; /* お知らせ */
}

#side_area.open ~ .hidden_area.animate .hidden_item:nth-child(4) .hidden_link {
  animation: revealRightToLeft 1.5s ease-out forwards;
  animation-delay: 0.4s; /* アクセス */
}

#side_area.open ~ .hidden_area.animate .hidden_item:nth-child(5) .hidden_link {
  animation: revealRightToLeft 1.5s ease-out forwards;
  animation-delay: 0.2s; /* お問い合わせ（右端・最初） */
}
```

---

## JavaScript

```javascript
// ハンバーガーメニュークリック時にクラス（open）を付け外しする
const hamburgerBtn = document.querySelector("#hamburger_btn");
const sideArea = document.querySelector("#side_area");
const hiddenArea = document.querySelector(".hidden_area");

hamburgerBtn.addEventListener("click", function () {
  // ボタン自身に .open を付けて「×」にする
  hamburgerBtn.classList.toggle("open");
  // 親の side_area にも .open を付けて他の要素を制御できるようにする
  sideArea.classList.toggle("open");

  // アニメーション追加: 隠れメニューにアニメーションクラス付与
  if (sideArea.classList.contains("open")) {
    hiddenArea.classList.add("animate");
  } else {
    hiddenArea.classList.remove("animate");
  }
});
```

---

## 補足説明

### よくあるハマりポイント

1. **clip-path の方向が逆になる**
   - `inset(100% 0 0 0)` → 上を隠す → 下から表示（逆！）
   - `inset(0 0 100% 0)` → 下を隠す → 上から表示（正解）

2. **メニュー項目の表示順序が逆になる**
   - 縦書きでは HTML の順序と画面上の配置が異なる
   - 右から左に表示したい場合、nth-child の大きい番号から先に表示

3. **アニメーションが再生されない**
   - `.animate` クラスが付与されているか確認
   - セレクタが複雑すぎて効いていない可能性

### 応用

- 遅延時間を調整して表示速度を変更
- ease-out を ease-in-out に変更してアニメーションの質感を変える
- clip-path を他の値（circle, polygon）に変更して異なる表示効果を実現
