<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <!-- タイトル -->
  <text x="600" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    ハンバーガーメニューの動作フロー
  </text>

  <!-- ========== 状態1: 初期状態 ========== -->
  <g id="state1">
    <!-- 背景 -->
    <rect x="50" y="80" width="300" height="200" fill="#f0f0f0" stroke="#999" stroke-width="2"/>
    <text x="200" y="60" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
      ① 初期状態
    </text>

    <!-- 画面 -->
    <rect x="80" y="100" width="240" height="160" fill="white" stroke="#666" stroke-width="1"/>

    <!-- ハンバーガーボタン（3本線） -->
    <g id="hamburger">
      <rect x="270" y="110" width="40" height="40" fill="white" stroke="#333" stroke-width="1"/>
      <line x1="275" y1="120" x2="305" y2="120" stroke="black" stroke-width="3"/>
      <line x1="275" y1="130" x2="305" y2="130" stroke="black" stroke-width="3"/>
      <line x1="275" y1="140" x2="305" y2="140" stroke="black" stroke-width="3"/>
    </g>

    <!-- 隠れたメニュー（左外） -->
    <rect x="10" y="100" width="60" height="160" fill="#1a1a1a" stroke="#666" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="40" y="180" font-size="10" fill="white" text-anchor="middle">メニュー</text>
    <text x="40" y="195" font-size="10" fill="white" text-anchor="middle">(隠れ)</text>

    <!-- 説明 -->
    <text x="200" y="295" font-size="12" text-anchor="middle" fill="#666">
      left: -30rem（画面外）
    </text>
  </g>

  <!-- 矢印 -->
  <g id="arrow1">
    <line x1="380" y1="180" x2="440" y2="180" stroke="#0066cc" stroke-width="3" marker-end="url(#arrowhead)"/>
    <text x="410" y="170" font-size="14" fill="#0066cc" font-weight="bold">クリック</text>
  </g>

  <!-- ========== 状態2: メニュー開いた状態 ========== -->
  <g id="state2">
    <!-- 背景 -->
    <rect x="470" y="80" width="300" height="200" fill="#f0f0f0" stroke="#999" stroke-width="2"/>
    <text x="620" y="60" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
      ② メニュー開く
    </text>

    <!-- 画面 -->
    <rect x="500" y="100" width="240" height="160" fill="white" stroke="#666" stroke-width="1"/>

    <!-- オーバーレイ（半透明黒） -->
    <rect x="500" y="100" width="240" height="160" fill="rgba(0,0,0,0.5)"/>

    <!-- ハンバーガーボタン（×） -->
    <g id="close-btn">
      <rect x="690" y="110" width="40" height="40" fill="white" stroke="#333" stroke-width="1"/>
      <line x1="695" y1="115" x2="725" y2="145" stroke="blue" stroke-width="4"/>
      <line x1="725" y1="115" x2="695" y2="145" stroke="blue" stroke-width="4"/>
    </g>

    <!-- 表示されたメニュー -->
    <rect x="500" y="100" width="100" height="160" fill="#1a1a1a" stroke="#666" stroke-width="2"/>
    <text x="550" y="130" font-size="11" fill="white" text-anchor="middle">PICK UP</text>
    <line x1="510" y1="135" x2="590" y2="135" stroke="white" stroke-width="1"/>
    <text x="550" y="160" font-size="11" fill="white" text-anchor="middle">FEATURE</text>
    <line x1="510" y1="165" x2="590" y2="165" stroke="white" stroke-width="1"/>
    <text x="550" y="190" font-size="11" fill="white" text-anchor="middle">CONTACT</text>

    <!-- スライドイン矢印 -->
    <line x1="470" y1="180" x2="500" y2="180" stroke="#00cc00" stroke-width="2" marker-end="url(#arrowhead-green)"/>
    <text x="485" y="175" font-size="10" fill="#00cc00">→</text>

    <!-- 説明 -->
    <text x="620" y="295" font-size="12" text-anchor="middle" fill="#666">
      left: 0（表示）+ オーバーレイ表示
    </text>
  </g>

  <!-- 矢印2 -->
  <g id="arrow2">
    <line x1="800" y1="180" x2="860" y2="180" stroke="#cc0000" stroke-width="3" marker-end="url(#arrowhead-red)"/>
    <text x="830" y="165" font-size="12" fill="#cc0000" font-weight="bold">オーバーレイ</text>
    <text x="830" y="180" font-size="12" fill="#cc0000" font-weight="bold">クリック</text>
  </g>

  <!-- ========== 状態3: 閉じる ========== -->
  <g id="state3">
    <!-- 背景 -->
    <rect x="890" y="80" width="300" height="200" fill="#f0f0f0" stroke="#999" stroke-width="2"/>
    <text x="1040" y="60" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
      ③ メニュー閉じる
    </text>

    <!-- 画面 -->
    <rect x="920" y="100" width="240" height="160" fill="white" stroke="#666" stroke-width="1"/>

    <!-- ハンバーガーボタン（3本線に戻る） -->
    <g id="hamburger2">
      <rect x="1110" y="110" width="40" height="40" fill="white" stroke="#333" stroke-width="1"/>
      <line x1="1115" y1="120" x2="1145" y2="120" stroke="black" stroke-width="3"/>
      <line x1="1115" y1="130" x2="1145" y2="130" stroke="black" stroke-width="3"/>
      <line x1="1115" y1="140" x2="1145" y2="140" stroke="black" stroke-width="3"/>
    </g>

    <!-- メニューが左に消える -->
    <rect x="850" y="100" width="60" height="160" fill="#1a1a1a" stroke="#666" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="880" y="180" font-size="10" fill="white" text-anchor="middle">メニュー</text>
    <text x="880" y="195" font-size="10" fill="white" text-anchor="middle">(隠れ)</text>

    <!-- スライドアウト矢印 -->
    <line x1="920" y1="180" x2="890" y2="180" stroke="#cc0000" stroke-width="2" marker-end="url(#arrowhead-red)"/>
    <text x="905" y="175" font-size="10" fill="#cc0000">←</text>

    <!-- 説明 -->
    <text x="1040" y="295" font-size="12" text-anchor="middle" fill="#666">
      元の状態に戻る
    </text>
  </g>

  <!-- ========== 詳細説明エリア ========== -->
  <g id="details">
    <rect x="50" y="350" width="1140" height="420" fill="#f9f9f9" stroke="#999" stroke-width="2"/>

    <text x="600" y="380" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">
      CSS・JavaScript の動作詳細
    </text>

    <!-- CSS説明 -->
    <g id="css-details">
      <text x="70" y="420" font-size="14" font-weight="bold" fill="#0066cc">
        📐 CSS の仕組み
      </text>

      <text x="90" y="450" font-size="12" fill="#333">
        1. ナビゲーションメニュー (#g_nav)
      </text>
      <text x="110" y="470" font-size="11" fill="#666" font-family="monospace">
        position: fixed; left: -30rem;  ← 初期状態（画面外左）
      </text>
      <text x="110" y="490" font-size="11" fill="#666" font-family="monospace">
        transition: left 0.3s ease;  ← スライドアニメーション
      </text>

      <text x="90" y="520" font-size="12" fill="#333">
        2. オーバーレイ (#mask)
      </text>
      <text x="110" y="540" font-size="11" fill="#666" font-family="monospace">
        display: none;  ← 初期状態（非表示）
      </text>
      <text x="110" y="560" font-size="11" fill="#666" font-family="monospace">
        background-color: rgba(0,0,0,0.5);  ← 半透明黒
      </text>

      <text x="90" y="590" font-size="12" fill="#333">
        3. ハンバーガーボタン (.bar)
      </text>
      <text x="110" y="610" font-size="11" fill="#666" font-family="monospace">
        transform: rotate(45deg);  ← × に変形
      </text>
    </g>

    <!-- JavaScript説明 -->
    <g id="js-details">
      <text x="650" y="420" font-size="14" font-weight="bold" fill="#cc6600">
        ⚡ JavaScript の動作
      </text>

      <text x="670" y="450" font-size="12" fill="#333">
        1. ハンバーガーボタンクリック時
      </text>
      <text x="690" y="470" font-size="11" fill="#666" font-family="monospace">
        mask.classList.toggle("open");
      </text>
      <text x="710" y="485" font-size="10" fill="#999">
        → オーバーレイ表示・非表示
      </text>
      <text x="690" y="505" font-size="11" fill="#666" font-family="monospace">
        hamburgerBtn.classList.toggle("open");
      </text>
      <text x="710" y="520" font-size="10" fill="#999">
        → ボタンを × に変形
      </text>
      <text x="690" y="540" font-size="11" fill="#666" font-family="monospace">
        gNav.classList.toggle("open");
      </text>
      <text x="710" y="555" font-size="10" fill="#999">
        → メニュー表示・非表示
      </text>

      <text x="670" y="585" font-size="12" fill="#333">
        2. オーバーレイクリック時
      </text>
      <text x="690" y="605" font-size="11" fill="#666" font-family="monospace">
        mask.classList.remove("open");
      </text>
      <text x="690" y="625" font-size="11" fill="#666" font-family="monospace">
        hamburgerBtn.classList.remove("open");
      </text>
      <text x="690" y="645" font-size="11" fill="#666" font-family="monospace">
        gNav.classList.remove("open");
      </text>
      <text x="710" y="660" font-size="10" fill="#999">
        → 全て元に戻す
      </text>
    </g>

    <!-- ポイント -->
    <g id="points">
      <rect x="70" y="690" width="1100" height="60" fill="#fff3cd" stroke="#ffc107" stroke-width="2"/>
      <text x="90" y="715" font-size="14" font-weight="bold" fill="#856404">
        ⭐ 重要ポイント
      </text>
      <text x="110" y="735" font-size="12" fill="#856404">
        • CSS変数 --side_header で幅を管理 → 隠す位置 = 幅のマイナス値
      </text>
      <text x="650" y="735" font-size="12" fill="#856404">
        • pointer-events で背景クリック制御
      </text>
    </g>
  </g>

  <!-- 矢印マーカー定義 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#0066cc"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#00cc00"/>
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#cc0000"/>
    </marker>
  </defs>
</svg>