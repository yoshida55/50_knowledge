<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ‡ãƒ¢</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<style>
  body {
    margin: 0;
    font-family: sans-serif;
    padding-bottom: 1000px;
  }
  
  /* æ•°å€¤è¡¨ç¤ºãƒ‘ãƒãƒ«ï¼ˆå›ºå®šè¡¨ç¤ºï¼‰ */
  .debug-panel {
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(0,0,0,0.8);
    color: #fff;
    padding: 20px;
    border-radius: 8px;
    font-size: 14px;
    z-index: 1000;
    line-height: 1.8;
  }
  
  .debug-panel strong {
    color: #ff0;
  }
  
  /* ã‚¹ãƒšãƒ¼ã‚µãƒ¼ */
  .spacer {
    height: 800px;
    background: linear-gradient(#e0e0e0, #f5f5f5);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: #999;
  }
  
  /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡ã®è¦ç´  */
  .news_title_container {
    margin: 100px auto;
    padding: 40px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    text-align: center;
    font-size: 24px;
    border-radius: 10px;
    max-width: 600px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    
    /* åˆæœŸçŠ¶æ…‹ï¼šé€æ˜ã§ä¸‹ã«ãšã‚Œã¦ã„ã‚‹ */
    opacity: 0;
    transform: translateY(50px);
    transition: all 0.8s ease;
  }
  
  /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†çŠ¶æ…‹ */
  .news_title_container.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* ãƒˆãƒªã‚¬ãƒ¼ãƒ©ã‚¤ãƒ³ï¼ˆè¦–è¦šåŒ–ç”¨ï¼‰ */
  .trigger-line {
    position: fixed;
    bottom: 200px;
    left: 0;
    width: 100%;
    height: 2px;
    background: red;
    z-index: 999;
    pointer-events: none;
  }
  
  .trigger-line::after {
    content: "â† ãƒˆãƒªã‚¬ãƒ¼ãƒ©ã‚¤ãƒ³ï¼ˆç”»é¢ä¸‹ã‹ã‚‰200pxï¼‰";
    position: absolute;
    right: 10px;
    top: -20px;
    color: red;
    font-size: 12px;
    font-weight: bold;
  }
</style>
</head>
<body>

<!-- æ•°å€¤è¡¨ç¤ºãƒ‘ãƒãƒ« -->
<div class="debug-panel">
  <div><strong>ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é‡ï¼š</strong><span id="scroll-value">0</span>px</div>
  <div><strong>ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é«˜ã•ï¼š</strong><span id="window-height">0</span>px</div>
  <div style="margin-top:15px; padding-top:15px; border-top:1px solid #555;">
    <div><strong>è¦ç´ 1ã®ä½ç½®ï¼š</strong><span id="target1">0</span>px</div>
    <div><strong>åˆ¤å®šå€¤1ï¼š</strong><span id="calc1">0</span>px</div>
    <div style="font-size:11px; color:#aaa;">ï¼ˆè¦ç´ ä½ç½® - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é«˜ã• + 200ï¼‰</div>
    <div style="margin-top:5px;"><strong>çŠ¶æ…‹1ï¼š</strong><span id="status1">æœªè¡¨ç¤º</span></div>
  </div>
  <div style="margin-top:15px; padding-top:15px; border-top:1px solid #555;">
    <div><strong>è¦ç´ 2ã®ä½ç½®ï¼š</strong><span id="target2">0</span>px</div>
    <div><strong>åˆ¤å®šå€¤2ï¼š</strong><span id="calc2">0</span>px</div>
    <div style="margin-top:5px;"><strong>çŠ¶æ…‹2ï¼š</strong><span id="status2">æœªè¡¨ç¤º</span></div>
  </div>
</div>

<!-- ãƒˆãƒªã‚¬ãƒ¼ãƒ©ã‚¤ãƒ³ï¼ˆè¦–è¦šåŒ–ï¼‰ -->
<div class="trigger-line"></div>

<!-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
<div class="spacer">ğŸ‘‡ ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ãã ã•ã„ ğŸ‘‡</div>

<div class="news_title_container" data-index="1">
  ğŸ“° ãƒ‹ãƒ¥ãƒ¼ã‚¹è¦ç´  1<br>
  <small style="font-size:16px;">ã“ã®ä½ç½®ãŒãƒˆãƒªã‚¬ãƒ¼ãƒ©ã‚¤ãƒ³ã‚’è¶…ãˆã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™</small>
</div>

<div class="spacer">ã•ã‚‰ã«ä¸‹ã¸</div>

<div class="news_title_container" data-index="2">
  ğŸ“° ãƒ‹ãƒ¥ãƒ¼ã‚¹è¦ç´  2<br>
  <small style="font-size:16px;">ã“ã¡ã‚‰ã‚‚åŒã˜ä»•çµ„ã¿ã§è¡¨ç¤ºã•ã‚Œã¾ã™</small>
</div>

<script>
// ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°
function checkNewsAnimation() {
  $(".news_title_container:not(.is-visible)").each(function () {
    let scroll = $(window).scrollTop();      // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é‡
    let target = $(this).offset().top;       // è¦ç´ ã®ä½ç½®
    let windowHeight = $(window).height();   // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é«˜ã•
    let index = $(this).data('index');       // è¦ç´ ç•ªå·
    
    // åˆ¤å®šå€¤ã‚’è¨ˆç®—
    let threshold = target - windowHeight + 200;
    
    // ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’æ›´æ–°
    $(`#target${index}`).text(Math.round(target));
    $(`#calc${index}`).text(Math.round(threshold));
    
    // åˆ¤å®šï¼šã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é‡ãŒé–¾å€¤ã‚’è¶…ãˆãŸã‚‰è¡¨ç¤º
    if (scroll > threshold) {
      $(this).addClass("is-visible");
      $(this).css({
        opacity: "1",
        transform: "translateY(0)",
      });
      $(`#status${index}`).text("âœ… è¡¨ç¤ºæ¸ˆã¿").css('color', '#0f0');
    } else {
      $(`#status${index}`).text("â³ å¾…æ©Ÿä¸­").css('color', '#ff0');
    }
  });
}

// æ•°å€¤æ›´æ–°é–¢æ•°
function updateDebugInfo() {
  let scroll = $(window).scrollTop();
  let windowHeight = $(window).height();
  
  $('#scroll-value').text(Math.round(scroll));
  $('#window-height').text(Math.round(windowHeight));
  
  checkNewsAnimation();
}

// ã‚¤ãƒ™ãƒ³ãƒˆè¨­å®š
$(window).on('scroll', updateDebugInfo);
$(window).on('resize', updateDebugInfo);

// åˆå›å®Ÿè¡Œ
updateDebugInfo();
</script>

</body>
</html>